collections:
  all:
    - CL160ENS-2
    - CL160ENS-3

slices:
  CL160ENS-2:
    readymade_meso_v1:
      current:
        path: /store-iota/MASTER/Samrad/Mem_Undulation
        directory: CL160ENS-2
        membrane_xyz_glob: memb_xyz-0-0-*.xyz
        nanogel_dat: NG_Position-0_Frame-0.dat
  CL160ENS-3:
    readymade_meso_v1:
      current:
        path: /store-iota/MASTER/Samrad/Mem_Undulation
        directory: CL160ENS-3
        membrane_xyz_glob: memb_xyz-0-0-*.xyz
        nanogel_dat: NG_Position-0_Frame-0.dat

meta:
  free_membrane_cl0:
    nprots: 1
  bound_membrane_cl0:
    nprots: 1

variables:
  # custom import XYZ data from membrane simulations
  #! possibly deprecated?
  membrane_data_root: /store-iota/MASTER/Samrad
  membrane_data:
    free_membrane_cl0: 
      path: Mem_Undulation/MEM_position-0_Frame-0.dat

deprecated:
  # first attempt, deprecated
  curvature_coupling:
    calculation: 
      - undulations
      - protein_abstractor
    collections: big
calculations:
  # FINAL CURVATURE COUPLING VERSION!!!
  curvature_undulation_coupling_dex:
    uptype: post
    group: all
    slice_name: current
    collections: all
    specs:
      design:
        loader_membrane:
          module: codes.curvature_coupling_loader
          function: curvature_coupling_loader_membrane
        loader_protein:
          module: codes.curvature_coupling_loader
          function: curvature_coupling_loader_protein
        style: wilderness
        curvature_positions: 
          method: neighborhood
          distance_cutoff: 5.0
          spacer: 2.5
        extents:
          method: fixed_isotropic
          extent:
            loop: 
              - 2.5
              - 1.0
        curvature_sum: mean
plots:
  # custom calculation instructions for samrad data
  curvature_dextran:
    calculation: 
      - undulations_imported
      - protein_abstractor
    collections: all
    specs:
      # !!! consider folding "import_regular_membrane" into the loader here ...
      # ... instead of from pipeline-curvature_dextran.py
      loader: 
        module: 'codes.membrane_importer_gromacs'
        function: curvature_coupling_loader
      design: 
        module: 'codes.curvature_coupling.database_design'
        def: database_def
      attempts:
        v1:
          style: manual
          mapping: single
          motion: static
          sigma_a: [0,1,2,3,4,5,6,7,8,9,10,12,18,24,32,64]
          C_0: [0.0,0.005,0.01,0.014,0.018,0.02,0.024,0.028,0.032,0.04,0.05,0.06,0.07,0.08,0.09,0.1]
  curvature_review:
    collections: all
    calculation:
      - undulations
    specs:
      # !!! consider folding "import_regular_membrane" into the loader here ...
      # ... instead of from pipeline-curvature_dextran.py
      loader: 
        module: 'codes.membrane_importer_gromacs'
        function: curvature_coupling_loader
      design: 
        module: 'codes.curvature_coupling.database_design'
        def: database_def
      attempts:
        v1:
          style: manual
          mapping: single
          motion: static
          sigma_a: [0,1,2,3,4,5,6,7,8,9,10,12,18,24,32,64]
          C_0: [0.0,0.005,0.01,0.014,0.018,0.02,0.024,0.028,0.032,0.04,0.05,0.06,0.07,0.08,0.09,0.1]
